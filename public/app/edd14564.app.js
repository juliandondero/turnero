"use strict";angular.module("zturnosApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap","ngTable","colorpicker.module","ngDialog"]).config(["$routeProvider","$locationProvider",function(a,b){a.otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("zturnosApp").controller("BotoneraCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/botonera",{templateUrl:"app/botonera/botonera.html",controller:"MainCtrl"})}]),angular.module("zturnosApp").service("Botonera",["$resource",function(a){return a("",{},{id:"@id",avanzar:{url:"/cola/:id/siguiente",method:"GET",isArray:!1},retroceder:{url:"/cola/:id/anterior",method:"GET",isArray:!1},actual:{url:"/cola/:id/actual",method:"GET",isArray:!1}})}]),angular.module("zturnosApp").controller("ColasCtrl",["$scope","ngTableParams","$resource",function(a,b,c){function d(){a.cola_new={};{var b=c("/get_config");b.get({},function(b){a.config=b,a.colas=b.colas,a.grupos=b.grupos,a.pantallas=b.pantallas})}}d(),a.crearNuevaCola=function(){var b=Object.keys(a.colas).length+1;a.colas[b]=a.cola_new,a.cola_new=void 0},a.crearNuevaPantalla=function(){a.pantallas.push(a.pantalla_new),a.pantalla_new=void 0},a.crearNuevoGrupo=function(){a.grupos.push(a.grupo_new),a.grupo_new=void 0},a.borrar=function(b){a.colas.pop(b)}}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/colas",{templateUrl:"app/colas/colas.html",controller:"MainCtrl"})}]),angular.module("zturnosApp").service("Config",["$resource",function(a){return a("/get_config/",{},{get:{method:"GET",isArray:!1},save:{method:"POST"}})}]),angular.module("zturnosApp").controller("GruposCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/grupos",{templateUrl:"app/grupos/grupos.html",controller:"MainCtrl"})}]),angular.module("zturnosApp").controller("LoginCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/login",{templateUrl:"app/login/login.html",controller:"LoginCtrl"})}]),angular.module("zturnosApp").controller("MainCtrl",["$scope","$rootScope","ngTableParams","$resource","ngDialog","Config","Botonera",function(a,b,c,d,e,f,g){function h(b){for(var c in a.grupos)-1!=a.grupos[c].colas.indexOf(b)&&a.grupos[c].colas.splice(a.grupos[c].colas.indexOf(b),1)}function i(b){for(var c in a.pantallas)-1!=a.pantallas[c].grupos.indexOf(b)&&a.pantallas[c].grupos.splice(a.pantallas[c].grupos.indexOf(b),1)}function j(){a.cola_new={}}function k(){a.grupo_new={colas:[]}}function l(){a.id_pantalla_new=Math.max.apply(Math,Object.keys(a.pantallas))+1,a.pantalla_new={grupos:[]}}function m(){a.menu=[{title:"Colas",link:"/colas"},{title:"Grupos",link:"/grupos"},{title:"Pantallas",link:"/pantallas"}],a.current=a.menu[0],f.get({},function(b){a.config=b,a.colas=b.colas,a.grupos=b.grupos,a.pantallas=b.pantallas,a.botonera=a.colas,j(),k(),l()}),a.avanzar=function(b){g.avanzar({id:b,from:a.from},function(c){a.botonera[b].actual=c.current})},a.retroceder=function(b){g.retroceder({id:b},function(c){a.botonera[b].actual=c.current})},a.actualizar=function(b){g.actual({id:b},function(c){a.botonera[b].actual=c.current})}}m(),a.crearNuevaCola=function(){var b=Math.max.apply(Math,Object.keys(a.colas))+1;a.colas[b]=a.cola_new,j()},a.crearNuevaPantalla=function(){var b=Math.max.apply(Math,Object.keys(a.pantallas))+1;a.pantallas[b]=a.pantalla_new,l()},a.crearNuevoGrupo=function(){var b=Math.max.apply(Math,Object.keys(a.grupos))+1;a.grupos[b]=a.grupo_new,k()},a.borrar=function(b){a.colas.pop(b)},a.isActive=function(b){return b===a.current},a.activate=function(b){a.current=b},a.colasDisponibles=function(b){var c=[];for(var d in a.colas)-1==b.colas.indexOf(d)&&c.push(d);return c},a.colasDisponiblesNew=function(){var b=[];for(var c in a.colas)-1==a.grupo_new.colas.indexOf(c)&&b.push(c);return b},a.gruposDisponibles=function(b){var c=[];for(var d in a.grupos)-1==b.grupos.indexOf(d)&&c.push(d);return c},a.gruposDisponiblesNew=function(){var b=[];for(var c in a.grupos)-1==a.pantalla_new.grupos.indexOf(c)&&b.push(c);return b},a.eliminarCola=function(b){h(b),delete a.colas[b]},a.eliminarGrupo=function(b){i(b),delete a.grupos[b]},a.eliminarPantalla=function(b){delete a.pantallas[b]},a.guardarConfiguracion=function(){e.openConfirm({template:"app/templates/confirm_template.html",className:"ngdialog-theme-default"}).then(function(){var b={colas:a.colas,grupos:a.grupos,pantallas:a.pantallas};f.save({},b,function(){e.openConfirm({template:"app/templates/success_template.html",className:"ngdialog-theme-default"})})},function(a){console.log("Modal promise rejected. Reason: ",a),e.openConfirm({template:"error_template.html",className:"ngdialog-theme-default"})})}}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/",{templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("zturnosApp").controller("PantallasCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("zturnosApp").config(["$routeProvider",function(a){a.when("/pantallas",{templateUrl:"app/pantallas/pantallas.html",controller:"MainCtrl"})}]),angular.module("zturnosApp").directive("tooltip",function(){return{restrict:"A",link:function(a,b,c){$(b).attr("title",a.$eval(c.tooltip)).tooltip({placement:"top"})}}}),angular.module("zturnosApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("zturnosApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Colas",link:"/colas"},{title:"Grupos",link:"/grupos"},{title:"Pantallas",link:"/pantallas"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),angular.module("zturnosApp").run(["$templateCache",function(a){a.put("app/botonera/botonera.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><header class=hero-unit id=banner><div class=container><h1>zTurnos</h1><p class=lead>Administrador de colas</p></div></header></div><div class=container><div class=row style=text-align:center><h4>Nombre de la caja:</h4><input ng-model="from"></div><div class=row ng-repeat="(id_cola, cola) in colas"><div class=col-md-2></div><div class=col-md-2><h5 style="font-weight: bold">Cola {{id_cola}}</h5></div><div class=col-md-5 style="margin-top: 10px"><button type=button class="btn btn-warning btn-lg" ng-click=retroceder(id_cola)><span class="glyphicon glyphicon-arrow-left"></span> Retroceder</button> <button type=button class="btn btn-warning btn-lg" ng-click=actualizar(id_cola)><span class="glyphicon glyphicon-refresh"></span> Actualizar</button> <button type=button class="btn btn-warning btn-lg" ng-click=avanzar(id_cola)><span class="glyphicon glyphicon-arrow-right"></span> Avanzar</button></div><div class=col-md-2><h5>Actual: {{botonera[id_cola].actual}}</h5></div></div></div>'),a.put("app/colas/colas.html",'<div class=container><div class=row><div class=col-lg-12><h1>Colas</h1><table ng-table=tableParams class=table><tr ng-repeat="(id_cola, cola) in colas"><td data-title="\'Nombre\'" class=columnas-colas><span ng-if=!cola.$edit>{{cola.nombre}}</span><div ng-if=cola.$edit><input class=form-control ng-model="cola.nombre"></div></td><td data-title="\'prefijo\'" class=columnas-colas><span ng-if=!cola.$edit>{{cola.prefijo}}</span><div ng-if=cola.$edit><input class=form-control ng-model="cola.prefijo"></div></td><td data-title="\'color\'" class=columnas-colas><input ng-readonly=!cola.$edit colorpicker class="btn ng-valid ng-dirty" type=button colorpicker-position=top ng-style="{\'background-color\': cola.color, \'pointer-events\': cola.$pointer|| \'none\'}" style="color: transparent;width: 5em;height: 30px;\n                               pointer-event:none" ng-model=cola.color></td><td data-title="\'Numero inicial\'" class=columnas-colas><span ng-if=!cola.$edit>{{cola.nro_inicial}}</span><div ng-if=cola.$edit><input class=form-control ng-model="cola.nro_inicial"></div></td><td data-title="\'Numero final\'" class=columnas-colas><span ng-if=!cola.$edit>{{cola.nro_final}}</span><div ng-if=cola.$edit><input class=form-control ng-model="cola.nro_final"></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a ng-if=!cola.$edit href="" class="btn btn-default btn-xs" ng-click="cola.$edit = true; cola.$pointer = \'auto\'">Edit</a> <a ng-if=!cola.$edit href="" class="btn btn-danger btn-xs" ng-click=eliminarCola(id_cola)>Delete</a> <a ng-if=cola.$edit href="" class="btn btn-primary btn-xs" ng-click="cola.$edit = false; cola.$pointer = \'none\'">Save</a></td></tr><tr><td data-title="\'Nombre\'" class=columnas-colas><div><input class=form-control ng-model="cola_new.nombre"></div></td><td data-title="\'prefijo\'" class=columnas-colas><div><input class=form-control ng-model="cola_new.prefijo"></div></td><td data-title="\'color\'" class=columnas-colas><input colorpicker class="btn btn-success ng-valid ng-dirty" type=button colorpicker-position=top ng-style="{\'background-color\': cola_new.color, }" style="color: transparent;width: 5em;height: 30px" ng-model=cola_new.color><div ng-if=cola.$edit><input class=form-control ng-model="cola_new.color"></div></td><td data-title="\'Numero inicial\'" class=columnas-colas><div><input class=form-control type=number ng-model="cola_new.nro_inicial"></div></td><td data-title="\'Numero final\'" class=columnas-colas><div><input class=form-control type=number ng-model="cola_new.nro_final"></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a href="" class="btn btn-primary btn-xs" ng-click=crearNuevaCola()>Add</a></td></tr></table></div></div></div>'),a.put("app/grupos/grupos.html",'<div class=container><div class=row><div class=col-lg-12><h1>Grupos</h1><table ng-table=tableParams class=table><tr ng-repeat="(id_grupo, grupo) in grupos"><td data-title="\'Nombre\'" class=columnas-colas><span ng-if=!grupo.$edit>{{grupo.nombre}}</span><div ng-if=grupo.$edit><input class=form-control ng-model="grupo.nombre"></div></td><td data-title="\'Colas\'" class=columnas-colas><div class=row><div class=col-md-6><label ng-if=grupo.$edit>colas asignadas:</label><div ng-repeat="cola in grupo.colas"><input ng-readonly=!grupo.$edit class="btn ng-valid ng-dirty" type=button ng-style="{\'background-color\': colas[cola].color, \'pointer-events\': grupo.$pointer|| \'none\'}" style="color: transparent;width: 5em;height: 30px;margin: 5px" ng-click=grupo.colas.splice(grupo.colas.indexOf(cola),1)></div></div><div class=col-md-6 ng-if=grupo.$edit><label>colas disponibles:</label><div style="margin-top: 2px" ng-repeat="cola in colasDisponibles(grupo)"><input readonly rel=tooltip tooltip=colas[cola] tooltip-placement=right class="btn ng-valid ng-dirty" type=button ng-style="{\'background-color\':colas[cola].color}" style="color: transparent;width: 5em;height: 30px" ng-click=grupo.colas.push(cola)></div></div></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a ng-if=!grupo.$edit href="" class="btn btn-default btn-xs" ng-click="grupo.$edit = true; grupo.$pointer = \'auto\'">Edit</a> <a ng-if=!grupo.$edit href="" class="btn btn-danger btn-xs" ng-click=eliminarGrupo(id_grupo)>Delete</a> <a ng-if=grupo.$edit href="" class="btn btn-primary btn-xs" ng-click="grupo.$edit = false; grupo.$pointer = \'none\'">Save</a></td></tr><tr><td data-title="\'Nombre\'" class=columnas-colas><div><input class=form-control ng-model="grupo_new.nombre"></div></td><td data-title="\'Colas\'" class=columnas-colas><div class=row><div class=col-md-6><label>colas asignadas:</label><div ng-repeat="cola in grupo_new.colas"><input ng-readonly=!colas[cola].$edit class="btn ng-valid ng-dirty" type=button ng-style="{\'background-color\': colas[cola].color}" style="color: transparent;width: 5em;height: 30px;margin: 5px" ng-click=grupo_new.colas.splice(grupo_new.colas.indexOf(cola),1)></div></div><div class=col-md-6><label>colas disponibles:</label><div style="margin-top: 2px" ng-repeat="cola in colasDisponiblesNew()"><input readonly rel=tooltip tooltip=colas[cola] tooltip-placement=right class="btn ng-valid ng-dirty" type=button ng-style="{\'background-color\':colas[cola].color}" style="color: transparent;width: 5em;height: 30px" ng-click=grupo_new.colas.push(cola)></div></div></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a href="" class="btn btn-primary btn-xs" ng-click=crearNuevoGrupo()>Add</a></td></tr></table></div></div></div>'),a.put("app/login/login.html",'<div class=container><div class=row><div class="col-sm-6 col-md-4 col-md-offset-4"><h1 class="text-center login-title">Sign in to continue to Bootsnipp</h1><div class=account-wall><img class=profile-img src="https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120" alt=""><form class=form-signin action=/login method=post><input class=form-control placeholder=Email required autofocus> <input type=password class=form-control placeholder=Password required> <button class="btn btn-lg btn-primary btn-block" type=submit>Sign in</button><label class="checkbox pull-left"><input type=checkbox value=remember-me> Remember me</label><a href=# class="pull-right need-help">Need help?</a><span class=clearfix></span></form></div><a href=# class="text-center new-account">Create an account</a></div></div></div>'),a.put("app/main/confirm_template.html","<div class=ngdialog-message><h3>ngDialog template</h3><p>Dialog containing work in which a user has to perform a task (e.g. editing data).</p><p>'Save' would save the task's actions, while 'Cancel' would cause the task's actions to be lost.</p><p>...other controls here...</p></div><div class=ngdialog-buttons><button type=button class=\"ngdialog-button ngdialog-button-secondary\" ng-click=\"closeThisDialog('Cancel')\">Cancelar</button> <button type=button class=\"ngdialog-button ngdialog-button-primary\" ng-click=\"confirm('Save')\">Guardar</button></div>"),a.put("app/main/main.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><ul id=tabs class="nav nav-tabs" data-tabs=tabs><li ng-repeat="item in menu" ng-class="{active: isActive(item)}"><a style="cursor: pointer" ng-click=activate(item) data-toggle=tab>{{item.title}}</a></li></ul><div ng-include="\'app/colas/colas.html\'" ng-show=isActive(menu[0])></div><div ng-include="\'app/grupos/grupos.html\'" ng-show=isActive(menu[1])></div><div ng-include="\'app/pantallas/pantallas.html\'" ng-show=isActive(menu[2])></div><footer class=footer><div class=container><p>Zetti Ingeniería en Sistemas | <a href="http://zetti.com.ar/">@zetti</a> | <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p></div></footer>'),a.put("app/pantallas/pantallas.html",'<div class=container><div class=row><div class=col-lg-12><h1>Pantallas</h1><table ng-table=tableParams class=table><tr ng-repeat="(id_pantalla, pantalla) in pantallas"><td data-title="\'Nombre\'" class=columnas-colas><span>{{id_pantalla}}</span></td><td data-title="\'grupos\'" class=columnas-colas><div class=row><div class=col-md-6><label ng-if=pantalla.$edit>grupos asignadas:</label><div ng-repeat="id_grupo in pantalla.grupos"><input ng-readonly=!pantalla.$edit ng-value=grupos[id_grupo].nombre class="btn ng-valid ng-dirty" type=button ng-style="{\'pointer-events\': pantalla.$pointer|| \'none\'}" style="background-color: #0073ea;color: whitesmoke;height: 30px;margin: 5px" ng-click=pantalla.grupos.splice(pantalla.grupos.indexOf(id_grupo),1)></div></div><div class=col-md-6 ng-if=pantalla.$edit><label>grupos disponibles:</label><div style="margin-top: 2px" ng-repeat="id_grupo in gruposDisponibles(pantalla)"><input readonly ng-value=grupos[id_grupo].nombre class="btn ng-valid ng-dirty" type=button style="background-color: #0073ea;color: whitesmoke;height: 30px;margin: 5px" ng-click=pantalla.grupos.push(id_grupo)></div></div></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a ng-if=!pantalla.$edit href="" class="btn btn-default btn-xs" ng-click="pantalla.$edit = true; pantalla.$pointer = \'auto\'">Edit</a> <a ng-if=!pantalla.$edit href="" class="btn btn-danger btn-xs" ng-click=eliminarPantalla(id_pantalla)>Delete</a> <a ng-if=pantalla.$edit href="" class="btn btn-primary btn-xs" ng-click="pantalla.$edit = false; pantalla.$pointer = \'none\'">Save</a></td></tr><tr><td data-title="\'Grupos\'" class=columnas-colas><div class=row><div class=col-md-6><label>grupos asignadas:</label><div ng-repeat="id_grupo in pantalla_new.grupos"><input readonly ng-value=grupos[id_grupo].nombre class="btn ng-valid ng-dirty" type=button style="background-color: #0073ea;color: whitesmoke;height: 30px;margin: 5px" ng-click=pantalla.grupos.splice(pantalla.grupos.indexOf(id_grupo),1)></div></div><div class=col-md-6><label>grupos disponibles:</label><div style="margin-top: 2px" ng-repeat="id_grupo in gruposDisponiblesNew()"><input readonly ng-value=grupos[id_grupo].nombre class="btn ng-valid ng-dirty" type=button style="background-color: #0073ea;color: whitesmoke;height: 30px;margin: 5px" ng-click=pantalla_new.grupos.push(id_grupo)></div></div></div></td><td data-title="\'Actions\'" style="width: 400px" class=columnas-colas><a href="" class="btn btn-primary btn-xs" ng-click=crearNuevaPantalla()>Add</a></td></tr></table></div></div></div>'),a.put("app/templates/confirm_template.html",'<div><div class=ngdialog-message><h3>Guardar Configuración</h3><p>¿Desea guardar la configuración actual?</p></div><div class=ngdialog-buttons><button type=button class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(\'Cancel\')">Cancelar</button> <button type=button class="ngdialog-button ngdialog-button-primary" ng-click="confirm(\'Save\')">Guardar</button></div></div>'),a.put("app/templates/success_template.html",'<div><div class=ngdialog-message><h3>Configuración guardada con éxito!</h3></div><div class=ngdialog-buttons><button type=button class="ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(\'Cancel\')">Ok</button></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><header class=hero-unit id=banner><div class=container><h1>zTurnos</h1><p class=lead>Sistema de gestion de colas</p></div><button class="btn btn-warning" ng-click=guardarConfiguracion()><span class="glyphicon glyphicon-floppy-save"></span> Guardar</button></header></div>')}]);